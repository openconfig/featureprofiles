# proto-file: github.com/openconfig/ondatra/blob/main/proto/testbed.proto
# proto-message: ondatra.Testbed

# This DUT-PEER testbed provides 16 links between dut - ate, and 4 links between the peer & ate.

# dut port definitions
dut {
  id: "dut"
  ports {
    id: "dut_ate_port1"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port2"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port3"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port4"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port5"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port6"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port7"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port8"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port9"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port10"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port11"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port12"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port13"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port14"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port15"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port16"
    speed: S_10GB
  }
}

# peer port definitions
dut {
  id: "peer"
  ports {
    id: "peer_ate_port1"
    speed: S_10GB
  }
  ports {
    id: "peer_ate_port2"
    speed: S_10GB
  }
  ports {
    id: "peer_ate_port3"
    speed: S_10GB
  }
  ports {
    id: "peer_ate_port4"
    speed: S_10GB
  }
}

ates {
  id: "ate"
  ports {
    id: "dut_ate_port1"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port2"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port3"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port4"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port5"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port6"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port7"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port8"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port9"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port10"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port11"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port12"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port13"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port14"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port15"
    speed: S_10GB
  }
  ports {
    id: "dut_ate_port16"
    speed: S_10GB
  }
  ports {
    id: "peer_ate_port1"
    speed: S_10GB
  }
  ports {
    id: "peer_ate_port2"
    speed: S_10GB
  }
  ports {
    id: "peer_ate_port3"
    speed: S_10GB
  }
  ports {
    id: "peer_ate_port4"
    speed: S_10GB
  }
}

# dut to TGEN (ATE) connections
links {
  a: "dut:dut_ate_port1"
  b: "ate:dut_ate_port1"
}
links {
  a: "dut:dut_ate_port2"
  b: "ate:dut_ate_port2"
}
links {
  a: "dut:dut_ate_port3"
  b: "ate:dut_ate_port3"
}
links {
  a: "dut:dut_ate_port4"
  b: "ate:dut_ate_port4"
}
links {
  a: "dut:dut_ate_port5"
  b: "ate:dut_ate_port5"
}
links {
  a: "dut:dut_ate_port6"
  b: "ate:dut_ate_port6"
}
links {
  a: "dut:dut_ate_port7"
  b: "ate:dut_ate_port7"
}
links {
  a: "dut:dut_ate_port8"
  b: "ate:dut_ate_port8"
}
links {
  a: "dut:dut_ate_port9"
  b: "ate:dut_ate_port9"
}
links {
  a: "dut:dut_ate_port10"
  b: "ate:dut_ate_port10"
}
links {
  a: "dut:dut_ate_port11"
  b: "ate:dut_ate_port11"
}
links {
  a: "dut:dut_ate_port12"
  b: "ate:dut_ate_port12"
}
links {
  a: "dut:dut_ate_port13"
  b: "ate:dut_ate_port13"
}
links {
  a: "dut:dut_ate_port14"
  b: "ate:dut_ate_port14"
}
links {
  a: "dut:dut_ate_port15"
  b: "ate:dut_ate_port15"
}
links {
  a: "dut:dut_ate_port16"
  b: "ate:dut_ate_port16"
}

# PEER to TGEN connections
links {
  a: "peer:peer_ate_port1"
  b: "ate:peer_ate_port1"
}
links {
  a: "peer:peer_ate_port2"
  b: "ate:peer_ate_port2"
}
links {
  a: "peer:peer_ate_port3"
  b: "ate:peer_ate_port3"
}
links {
  a: "peer:peer_ate_port4"
  b: "ate:peer_ate_port4"
}
